<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libgroove: GrooveSink Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libgroove
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structGrooveSink.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">GrooveSink Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>use this to get access to a realtime raw audio buffer for example you could use it to draw a waveform or other visualization <a class="el" href="structGroovePlayer.html">GroovePlayer</a> uses this internally to get the audio buffer for playback  
 <a href="structGrooveSink.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:af989f56862370d131ffbe19f876e6b98"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structGrooveAudioFormat.html">GrooveAudioFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#af989f56862370d131ffbe19f876e6b98">audio_format</a></td></tr>
<tr class="memdesc:af989f56862370d131ffbe19f876e6b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">set this to the audio format you want the sink to output  <a href="#af989f56862370d131ffbe19f876e6b98">More...</a><br/></td></tr>
<tr class="separator:af989f56862370d131ffbe19f876e6b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0b91c9eb44ad8561fba1684428c9a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a7c0b91c9eb44ad8561fba1684428c9a2">disable_resample</a></td></tr>
<tr class="memdesc:a7c0b91c9eb44ad8561fba1684428c9a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this flag to ignore audio_format.  <a href="#a7c0b91c9eb44ad8561fba1684428c9a2">More...</a><br/></td></tr>
<tr class="separator:a7c0b91c9eb44ad8561fba1684428c9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358e9f4033d1bdcaf2c73145cad2b051"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a358e9f4033d1bdcaf2c73145cad2b051">buffer_sample_count</a></td></tr>
<tr class="memdesc:a358e9f4033d1bdcaf2c73145cad2b051"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you leave this to its default of 0, frames pulled from the sink will have sample count determined by efficiency.  <a href="#a358e9f4033d1bdcaf2c73145cad2b051">More...</a><br/></td></tr>
<tr class="separator:a358e9f4033d1bdcaf2c73145cad2b051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a333a58af164f1b58c8b67cf69db8df5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a333a58af164f1b58c8b67cf69db8df5b">buffer_size</a></td></tr>
<tr class="memdesc:a333a58af164f1b58c8b67cf69db8df5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">how big the buffer queue should be, in sample frames.  <a href="#a333a58af164f1b58c8b67cf69db8df5b">More...</a><br/></td></tr>
<tr class="separator:a333a58af164f1b58c8b67cf69db8df5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada50ae288233caf1d8e575f9ace7707"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#aada50ae288233caf1d8e575f9ace7707">gain</a></td></tr>
<tr class="memdesc:aada50ae288233caf1d8e575f9ace7707"><td class="mdescLeft">&#160;</td><td class="mdescRight">This volume adjustment only applies to this sink.  <a href="#aada50ae288233caf1d8e575f9ace7707">More...</a><br/></td></tr>
<tr class="separator:aada50ae288233caf1d8e575f9ace7707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5b11e7b23359188385303be10dd14a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a5f5b11e7b23359188385303be10dd14a">userdata</a></td></tr>
<tr class="memdesc:a5f5b11e7b23359188385303be10dd14a"><td class="mdescLeft">&#160;</td><td class="mdescRight">set to whatever you want, defaults to <code>NULL</code>.  <a href="#a5f5b11e7b23359188385303be10dd14a">More...</a><br/></td></tr>
<tr class="separator:a5f5b11e7b23359188385303be10dd14a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9199418311f8fe92273114ec75e20911"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a9199418311f8fe92273114ec75e20911">flush</a> )(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td></tr>
<tr class="memdesc:a9199418311f8fe92273114ec75e20911"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when the audio queue is flushed.  <a href="#a9199418311f8fe92273114ec75e20911">More...</a><br/></td></tr>
<tr class="separator:a9199418311f8fe92273114ec75e20911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58367dfd0c256c3afbe05011801ff843"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a58367dfd0c256c3afbe05011801ff843">purge</a> )(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *, struct <a class="el" href="structGroovePlaylistItem.html">GroovePlaylistItem</a> *)</td></tr>
<tr class="memdesc:a58367dfd0c256c3afbe05011801ff843"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when a playlist item is deleted.  <a href="#a58367dfd0c256c3afbe05011801ff843">More...</a><br/></td></tr>
<tr class="separator:a58367dfd0c256c3afbe05011801ff843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d46604854d07e8ff137b56516992857"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a5d46604854d07e8ff137b56516992857">pause</a> )(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td></tr>
<tr class="memdesc:a5d46604854d07e8ff137b56516992857"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when the playlist is paused  <a href="#a5d46604854d07e8ff137b56516992857">More...</a><br/></td></tr>
<tr class="separator:a5d46604854d07e8ff137b56516992857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae327481a25d4a7b759c02c9d21935d7e"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#ae327481a25d4a7b759c02c9d21935d7e">play</a> )(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td></tr>
<tr class="memdesc:ae327481a25d4a7b759c02c9d21935d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">called when the playlist is played  <a href="#ae327481a25d4a7b759c02c9d21935d7e">More...</a><br/></td></tr>
<tr class="separator:ae327481a25d4a7b759c02c9d21935d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0d405c4d67f345845f1a4f6cc45069"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structGroovePlaylist.html">GroovePlaylist</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a4f0d405c4d67f345845f1a4f6cc45069">playlist</a></td></tr>
<tr class="memdesc:a4f0d405c4d67f345845f1a4f6cc45069"><td class="mdescLeft">&#160;</td><td class="mdescRight">read-only.  <a href="#a4f0d405c4d67f345845f1a4f6cc45069">More...</a><br/></td></tr>
<tr class="separator:a4f0d405c4d67f345845f1a4f6cc45069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2373f911edc9427147281bf680985ded"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGrooveSink.html#a2373f911edc9427147281bf680985ded">bytes_per_sec</a></td></tr>
<tr class="memdesc:a2373f911edc9427147281bf680985ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">read-only.  <a href="#a2373f911edc9427147281bf680985ded">More...</a><br/></td></tr>
<tr class="separator:a2373f911edc9427147281bf680985ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>use this to get access to a realtime raw audio buffer for example you could use it to draw a waveform or other visualization <a class="el" href="structGroovePlayer.html">GroovePlayer</a> uses this internally to get the audio buffer for playback </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="af989f56862370d131ffbe19f876e6b98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structGrooveAudioFormat.html">GrooveAudioFormat</a> GrooveSink::audio_format</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set this to the audio format you want the sink to output </p>

</div>
</div>
<a class="anchor" id="a358e9f4033d1bdcaf2c73145cad2b051"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GrooveSink::buffer_sample_count</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you leave this to its default of 0, frames pulled from the sink will have sample count determined by efficiency. </p>
<p>If you set this to a positive number, frames pulled from the sink will always have this number of samples. </p>

</div>
</div>
<a class="anchor" id="a333a58af164f1b58c8b67cf69db8df5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GrooveSink::buffer_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>how big the buffer queue should be, in sample frames. </p>
<p><a class="el" href="groove_8h.html#a52939f730c77e938642582d5d4f617b4">groove_sink_create</a> defaults this to 8192 </p>

</div>
</div>
<a class="anchor" id="a2373f911edc9427147281bf680985ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GrooveSink::bytes_per_sec</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read-only. </p>
<p>automatically computed from audio_format when you call <a class="el" href="groove_8h.html#ab98ab074d3c0795b711c2ae016533917" title="before calling this, set audio_format returns 0 on success, &lt; 0 on error ">groove_sink_attach</a> </p>

</div>
</div>
<a class="anchor" id="a7c0b91c9eb44ad8561fba1684428c9a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GrooveSink::disable_resample</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set this flag to ignore audio_format. </p>
<p>If you set this flag, the buffers you pull from this sink could have any audio format. </p>

</div>
</div>
<a class="anchor" id="a9199418311f8fe92273114ec75e20911"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* GrooveSink::flush)(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called when the audio queue is flushed. </p>
<p>For example, if you seek to a different location in the song. </p>

</div>
</div>
<a class="anchor" id="aada50ae288233caf1d8e575f9ace7707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GrooveSink::gain</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This volume adjustment only applies to this sink. </p>
<p>It is recommended that you leave this at 1.0 and instead adjust the gain of the playlist. If you want to change this value after you have already attached the sink to the playlist, you must use <a class="el" href="groove_8h.html#ae732c59841ef763f405c6d4ca2618e4a" title="See the gain property of GrooveSink. ">groove_sink_set_gain</a>. float format. Defaults to 1.0 </p>

</div>
</div>
<a class="anchor" id="a5d46604854d07e8ff137b56516992857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* GrooveSink::pause)(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called when the playlist is paused </p>

</div>
</div>
<a class="anchor" id="ae327481a25d4a7b759c02c9d21935d7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* GrooveSink::play)(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called when the playlist is played </p>

</div>
</div>
<a class="anchor" id="a4f0d405c4d67f345845f1a4f6cc45069"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structGroovePlaylist.html">GroovePlaylist</a>* GrooveSink::playlist</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read-only. </p>
<p>set when you call <a class="el" href="groove_8h.html#ab98ab074d3c0795b711c2ae016533917" title="before calling this, set audio_format returns 0 on success, &lt; 0 on error ">groove_sink_attach</a>. cleared when you call <a class="el" href="groove_8h.html#aa816ddd91808635e37e54f2e5c53b8a3" title="returns 0 on success, &lt; 0 on error ">groove_sink_detach</a> </p>

</div>
</div>
<a class="anchor" id="a58367dfd0c256c3afbe05011801ff843"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* GrooveSink::purge)(struct <a class="el" href="structGrooveSink.html">GrooveSink</a> *, struct <a class="el" href="structGroovePlaylistItem.html">GroovePlaylistItem</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called when a playlist item is deleted. </p>
<p>Take this opportunity to remove all your references to the <a class="el" href="structGroovePlaylistItem.html">GroovePlaylistItem</a>. </p>

</div>
</div>
<a class="anchor" id="a5f5b11e7b23359188385303be10dd14a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* GrooveSink::userdata</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set to whatever you want, defaults to <code>NULL</code>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="groove_8h_source.html">groove.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
